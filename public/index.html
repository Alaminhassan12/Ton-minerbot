<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TON Miner</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@600;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app-container">
        <!-- উপরের ব্যালেন্স বার -->
        <header class="top-bar">
            <div class="balance-display ton-balance">
                <img src="https://i.postimg.cc/906sRRfW/ton.png" alt="TON">
                <span id="ton-balance-val">0.00</span>
            </div>
            <div class="balance-display diamond-balance">
                <img src="https://i.postimg.cc/PJpTRVrK/diamond.png" alt="💎">
                <span id="diamond-balance-val">0</span>
                <button class="plus-icon" id="refer-plus-btn" title="Refer Friends">
                    <span>+</span>
                </button>
            </div>
            <div class="balance-display mining-rate">
                <img src="https://i.postimg.cc/1tppqSF1/mining-clock.png" alt="Rate">
                <span id="mining-rate-val">0/S</span>
            </div>
            <div class="balance-display language-btn">
                <button class="lang-button" id="language-btn">EN</button>
                <div class="lang-dropdown" id="lang-dropdown">
                    <div class="lang-option" data-lang="en">🇺🇸 EN</div>
                    <div class="lang-option" data-lang="bn">🇧🇩 বাং</div>
                </div>
            </div>
        </header>

        <div class="user-info-bar">
            <span>Lv.<span id="user-level">1</span> (uid: <span id="user-id">...</span>)</span>
        </div>

        <!-- মূল কন্টেন্ট এরিয়া -->
        <main class="main-content">
            <aside class="left-sidebar">
                <button class="side-button" data-modal="withdraw-modal">
                    <img src="https://i.postimg.cc/TYbTjss3/withdraw.png" alt="Withdraw">
                    <span>Withdraw</span>
                </button>
                <button class="side-button" data-modal="tasks-modal">
                    <img src="https://i.postimg.cc/523yvGHF/task.png" alt="Tasks">
                    <span>Tasks</span>
                </button>
            </aside>
            <div class="center-content">
                <img src="https://i.postimg.cc/906sRRfW/ton.png" alt="TON Character" id="main-character">
            </div>
            <aside class="right-sidebar">
                <button class="side-button" data-modal="invite-modal">
                    <img src="https://i.postimg.cc/jqms7TZ1/invite.png" alt="Invite">
                    <span>Invite</span>
                </button>
                <button class="side-button" data-modal="luckbag-modal">
                    <img src="https://i.postimg.cc/d0svYVVh/luckbug.png" alt="Luckbag">
                    <span>Luckbag</span>
                </button>
            </aside>
        </main>

        <!-- মাইনিং ফ্লোর -->
        <section id="floors-container">
            <div class="loading">Loading Floors...</div>
        </section>

        <!-- নিচের নেভিগেশন বার -->
        <footer class="bottom-nav">
            <button class="nav-button" data-modal="ranking-modal">
                <img src="https://i.postimg.cc/9QtVK7C3/ranking.png" alt="Ranking">
                <span>Ranking</span>
            </button>
            <button class="nav-button" data-modal="friends-modal">
                <img src="https://i.postimg.cc/mrsJ9LzT/friend.png" alt="Friends">
                <span>Friends</span>
            </button>
            <button class="nav-button" data-modal="theft-record-modal">
                <img src="https://i.postimg.cc/V658JZM1/theft-record.png" alt="Theft Record">
                <span>Theft Record</span>
            </button>
        </footer>
        
        <!-- Modal Pop-ups -->
        <div id="modals-container">
            <!-- Withdraw Modal -->
            <div id="withdraw-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>WITHDRAW</h2>
                    <div class="withdraw-card">
                        <div class="withdraw-balance">
                            <img src="https://i.postimg.cc/906sRRfW/ton.png" alt="TON"> 
                            <span id="withdraw-balance-val">0.00 TON</span>
                        </div>
                        <p>Select Withdrawal Amount</p>
                        <div class="withdraw-package" data-amount="2000" data-fee="0">
                            <span>2000 TON</span>
                            <button class="withdraw-btn">
                                <img src="https://i.postimg.cc/PJpTRVrK/diamond.png" alt="💎"> 0
                                <span>Withdraw To Rovex</span>
                            </button>
                        </div>
                        <div class="withdraw-package" data-amount="200000" data-fee="200">
                            <span>200000 TON</span>
                            <button class="withdraw-btn disabled">
                                <img src="https://i.postimg.cc/PJpTRVrK/diamond.png" alt="💎"> 200
                                <span>Withdraw To Binance</span>
                            </button>
                            <button class="withdraw-btn rovex-btn">
                                <img src="https://i.postimg.cc/PJpTRVrK/diamond.png" alt="💎"> 200184
                                <span>Withdraw To Rovex</span>
                            </button>
                        </div>
                    </div>
                    <p style="text-align: center; margin-top: 15px;">
                        <a href="#" style="color: #666; text-decoration: underline;">Register a Binance account</a>
                    </p>
                    <p style="text-align: right; margin-top: 10px;">
                        <a href="#" style="color: #666; text-decoration: underline;">Record ></a>
                    </p>
                </div>
            </div>

            <!-- Invite Modal -->
            <div id="invite-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>INVITATION</h2>
                    <div class="invite-card">
                        <h3>REFER & EARN</h3>
                        <p>Inviting 1 friend earns 2 diamonds, with a maximum of 20 diamonds per day.</p>
                    </div>
                    <h4>Invitation link</h4>
                    <div class="referral-box">
                        <input type="text" id="referral-link" readonly value="Loading...">
                        <button id="copy-link-btn">copy</button>
                    </div>
                    <h4>INVITATION RECORD</h4>
                    <div id="invitation-records">
                        <div class="loading">Loading...</div>
                    </div>
                </div>
            </div>

            <!-- Tasks Modal -->
            <div id="tasks-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>TASK</h2>
                    <div id="tasks-list">
                        <div class="loading">Loading Tasks...</div>
                    </div>
                </div>
            </div>

            <!-- Ranking Modal -->
            <div id="ranking-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>RANKING</h2>
                    <div class="ranking-tabs">
                        <button class="ranking-tab active" data-type="level">LEVEL</button>
                        <button class="ranking-tab" data-type="diamond">diamond</button>
                        <button class="ranking-tab" data-type="invitation">invitation</button>
                        <button class="ranking-tab" data-type="token">token</button>
                    </div>
                    <div id="ranking-list">
                        <div class="loading">Loading Rankings...</div>
                    </div>
                </div>
            </div>

            <!-- Friends Modal -->
            <div id="friends-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>FRIENDS</h2>
                    <div class="friends-tabs">
                        <button class="friends-tab active" data-type="friends">friends list</button>
                        <button class="friends-tab" data-type="add">add friends</button>
                    </div>
                    <div id="friends-list">
                        <div class="loading">Loading Friends...</div>
                    </div>
                </div>
            </div>

            <!-- Theft Record Modal -->
            <div id="theft-record-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>sealing records</h2>
                    <div id="theft-records">
                        <div class="loading">Loading Records...</div>
                    </div>
                </div>
            </div>

            <!-- Luckbag Modal -->
            <div id="luckbag-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2 style="background: linear-gradient(45deg, #ff6b6b, #ffa500); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">luck bag</h2>
                    <div class="luckbag-card">
                        <div class="luckbag-balance">
                            <img src="https://i.postimg.cc/906sRRfW/ton.png" alt="TON">
                            <span>TON balance</span>
                            <span id="luckbag-balance-val">0</span>
                        </div>
                        <p>Total luck bag amount</p>
                        <input type="number" id="luckbag-amount" placeholder="Input..." min="1">
                        <p>Number of luck bag</p>
                        <input type="text" id="luckbag-count" value="1-1000" readonly>
                        <button id="emit-luckbag-btn" class="emit-btn">emit</button>
                        <p style="text-align: right; margin-top: 15px;">
                            <a href="#" id="luckbag-record-link" style="color: #666;">Luck Bag Record ></a>
                        </p>
                        <div class="luckbag-warning">
                            *Unregistered friends who register through your luck bag link will automatically become your valid invitation and get the invitation energy
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="script.js"></script>
</body>
</html>